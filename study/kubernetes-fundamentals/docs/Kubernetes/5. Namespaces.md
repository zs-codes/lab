## ğŸ§  Concept Overview

- **Namespaces**Â are a way toÂ **logically isolate**Â andÂ **organize**Â Kubernetes resources within a single cluster.
    
- They provide aÂ **scope for names**Â â€” resource names must be uniqueÂ **within**Â a namespace butÂ **not across**namespaces.
    
- Think of them likeÂ **resource groups in Azure**Â orÂ **folders**Â in a filesystem.
    
- Theyâ€™re often used to:
    
    - Separate environments (e.g.,Â `dev`,Â `test`,Â `prod`)
        
    - Isolate teams or projects
        
    - ApplyÂ **RBAC**,Â **resource quotas**, andÂ **network policies**Â at a logical boundary
        

---

## ğŸ§± Default Namespaces

Kubernetes comes with several pre-created namespaces:

|Namespace|Purpose|
|---|---|
|`default`|Where resources are placed when no namespace is specified|
|`kube-system`|Contains system components (e.g., kube-dns, controller-manager)|
|`kube-public`|Publicly readable namespace (mainly used for cluster info)|
|`kube-node-lease`|Stores node heartbeat leases for efficient node health tracking|

---

## ğŸ› ï¸ Working with Namespaces

### âœ… Create a Namespace

```bash
kubectl create namespace mealie
```

### ğŸ§© List Namespaces

```bash
kubectl get namespaces
```

Example:

```
NAME              STATUS   AGE
default           Active   3d15h
kube-node-lease   Active   3d15h
kube-public       Active   3d15h
kube-system       Active   3d15h
mealie            Active   6s
```

### ğŸ§¾ View YAML Definition (dry run)

```bash
kubectl create namespace mealie --dry-run=client -o yaml
```

Output:

```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: mealie
spec: {}
status: {}
```

---

## ğŸ§¨ Important Behavior

- **Deleting a namespace**Â deletesÂ _all resources_Â within it:
    
    ```bash
    kubectl delete namespace mealie
    ```
    
    This will remove all pods, deployments, services, etc. inside that namespace.
    
- **Namespace-scoped resources**Â (Pods, Services, Deployments, etc.) liveÂ _inside_Â namespaces.  
    **Cluster-scoped resources**Â (Nodes, PersistentVolumes, ClusterRoles, etc.) doÂ _not_Â belong to any namespace.
    

---

## ğŸ“¦ Creating Resources in a Namespace

Specify the namespace when creating a resource:

```bash
kubectl run zhivko-mealie --image=nginx -n mealie
```

Now, when listing pods:

```bash
kubectl get pods
# No resources found in default namespace
kubectl get pods -n mealie
```

Output:

```
NAME            READY   STATUS    RESTARTS   AGE
zhivko-mealie   1/1     Running   0          36s
```

---

## âš™ï¸ Setting Default Namespace in Current Context

You can change yourÂ _current kubectl context_Â to default to a specific namespace:

```bash
kubectl config current-context
# rancher-desktop

kubectl config set-context --current --namespace=mealie
```

Now, all commands withoutÂ `-n`Â will use theÂ `mealie`Â namespace:

```bash
kubectl get pods
# Lists pods in mealie namespace by default
```

---

## ğŸ§© Useful Commands

| Command                                      | Description                         |
| -------------------------------------------- | ----------------------------------- |
| `kubectl get all -n <namespace>`             | List all resources in a namespace   |
| `kubectl describe namespace <name>`          | Show detailed namespace info        |
| `kubectl config view --minify`               | grep namespace:`                    |
| `kubectl get resourcequotas -n <namespace>`  | Check resource limits per namespace |
| `kubectl get networkpolicies -n <namespace>` | View applied network policies       |

---

## âš–ï¸ Best Practices

- Create aÂ **dedicated namespace per application/workload**.
    
- UseÂ **RBAC**Â andÂ **NetworkPolicies**Â at the namespace level to isolate apps and teams.
    
- UseÂ **ResourceQuotas**Â andÂ **LimitRanges**Â to control resource usage within namespaces.
    
- KeepÂ **system namespaces**Â (`kube-*`) separate from your workloads.
    
- Avoid usingÂ `default`Â for production resources â€” it gets messy fast.
    

---

## ğŸ§­ Quick Reference

|Action|Command|
|---|---|
|Create a namespace|`kubectl create ns <name>`|
|Delete a namespace|`kubectl delete ns <name>`|
|Switch current context namespace|`kubectl config set-context --current --namespace=<name>`|
|Get resources in all namespaces|`kubectl get pods --all-namespaces`|

---

### ğŸ’¡ Tip

To always see which namespace you're in, enable it in your kubectl prompt:

```bash
alias k='kubectl'
alias kns='kubectl config set-context --current --namespace'
```

Or use a tool likeÂ **kubectx/kubens**Â for quick namespace switching.