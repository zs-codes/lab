
## 🧭 Goal
Set up secure SSH authentication for GitHub the **standard way**, used by most engineers:
- Key stored in `~/.ssh`
- Auto-loaded by macOS Keychain
- Works across all GitHub repos
- No need for manual re-adding or custom paths

---

## 🧹 Reverting a Custom SSH Setup

If you previously created a custom key in another folder (e.g. `~/Documents/github_ssh`), do this first:

1. Move both the private and public key files to `~/.ssh`:
   ```bash
   mv /path/to/your/github_ssh ~/.ssh/id_ed25519
   mv /path/to/your/github_ssh.pub ~/.ssh/id_ed25519.pub
```

2. Fix permissions (important):
    
    ```bash
    chmod 700 ~/.ssh
    chmod 600 ~/.ssh/id_ed25519
    chmod 644 ~/.ssh/id_ed25519.pub
    ```
    
3. (Optional) Delete any custom GitHub entry in your SSH config:
    
    ```bash
    nano ~/.ssh/config
    ```
    
    Remove or comment out any block like:
    
    ```
    Host github.com
      IdentityFile /path/to/your/github_ssh
    ```
    
    Save and exit.
    

---

## 🪄 Generate a New SSH Key (if needed)

If you prefer to start clean, just create a new key:

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

Press **Enter** for all prompts — it will save to the default:

```
/Users/<you>/.ssh/id_ed25519
```

---

## 💾 Add Key to macOS Keychain

Load it into your SSH agent and store it in the keychain:

```bash
eval "$(ssh-agent -s)"
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
```

Confirm it’s loaded:

```bash
ssh-add -l
```

---

## 🌐 Add the Public Key to GitHub

Copy the public key:

```bash
pbcopy < ~/.ssh/id_ed25519.pub
```

Then go to:  
👉 **GitHub → Settings → SSH and GPG keys → New SSH key**  
Paste the key and click **Add SSH key**.

---

## 🧪 Test the Connection

Run:

```bash
ssh -T git@github.com
```

Expected output:

```
Hi <username>! You've successfully authenticated, but GitHub does not provide shell access.
```

If you see that, your setup is working perfectly.

---

## 🚀 Use It with Git

You can now use SSH URLs with no token or password prompts:

```bash
git clone git@github.com:yourusername/repo.git
git add .
git commit -m "Your message"
git push
```

Everything will use your SSH key automatically.

---

## ✅ TL;DR Summary

|Step|Command|Notes|
|---|---|---|
|Generate key|`ssh-keygen -t ed25519 -C "you@example.com"`|Default path: `~/.ssh/id_ed25519`|
|Start agent|`eval "$(ssh-agent -s)"`|Start SSH agent|
|Add to keychain|`ssh-add --apple-use-keychain ~/.ssh/id_ed25519`|Persist key|
|Add to GitHub|`pbcopy < ~/.ssh/id_ed25519.pub`|Paste into GitHub|
|Test|`ssh -T git@github.com`|Verify success|
|Push|`git push`|Works seamlessly|

---

### 💡 Pro Tips

- Keep **one SSH key per machine**, not per repo.
    
- Use the same key for all your GitHub repos.
    
- Backup your `~/.ssh/id_ed25519` files securely.
    
- If you have multiple accounts (personal + work), _then_ you can use a `~/.ssh/config` file.
    

---

**✅ Result:**  
You now have a clean, standard, professional SSH setup on macOS — identical to what most engineers use daily.

```

---

Would you like me to include a small extra section in that note about **managing multiple GitHub accounts** (e.g., work + personal), in case you ever need that later?
```